#labels Phase-Implementation
#Embed lysee to application step by step.

= Embed Lysee Step By Step =

This page will lead you create a expression evaluating application called _*calc.lpi*_ with embeded lysee to implement its evaluating capabilities.

*1. Create Project*

  # Open lazarus and create a _*Application*_ project.
  # Save this project as _*calc.lpi*_.
  # Same Unit1 as _*frmcalc.pas*_.
  # Place a label editor to main form and rename it as _*eExpr*_.
  # Place a label editor to main form and rename is as _*eResult*_.
  # Place a button to main form and rename it as _*bCalc*_.
  
*2. Add Lysee Kernel To Project*

Add _*lseu.pas*_ and _*lse_kernel.pas*_ into this project.

{{{
program calc;

{$mode objfpc}{$H+}

uses
  {$IFDEF UNIX}{$IFDEF UseCThreads}
  cthreads,
  {$ENDIF}{$ENDIF}
  Interfaces, Forms,
  frmcalc, lseu, lse_kernel;

{$R *.res}

begin
  Application.Initialize;
  Application.CreateForm(TCalcForm, CalcForm);
  Application.Run;
end.
}}}

  * Add them to *uses* clause.

It looks like this:
{{{
uses
  lseu, lse_kernel;
}}}

*2. Setup Framework*

  * Call _*lse_startup*_ firstly to initialize lysee kernel.
  * Call _*lse_cleanup*_ finally to release lysee kernel.

{{{
begin
  lse_startup;
  try
    // Put using-lysee codes here
  finally
    lse_cleanup;
  end;
end
}}}