#labels Phase-Implementation
#Embed lysee to application step by step.

= Embed Lysee Step By Step =

This page will lead you create a expression evaluating application called _*calc.lpi*_ with embeded lysee to implement its evaluating capabilities.

*1. Create Project _*calc.lpi*_*

  # Open lazarus and create a _*Application*_ project.
  # Save this project as _*calc.lpi*_.
  # Same Unit1 as _*frmcalc.pas*_.
  # Place a label editor to main form and rename it as _*eExpr*_.
  # Place a label editor to main form and rename is as _*eResult*_.
  # Place a button to main form and rename it as _*bCalc*_.
  
*2. Add Lysee Kernel To Project*

Add _*lseu.pas*_ and _*lse_kernel.pas*_ into this project.

{{{
program calc;

{$mode objfpc}{$H+}

uses
  {$IFDEF UNIX}{$IFDEF UseCThreads}
  cthreads,
  {$ENDIF}{$ENDIF}
  Interfaces, Forms,
  frmcalc, lseu, lse_kernel;

{$R *.res}

begin
  Application.Initialize;
  Application.CreateForm(TCalcForm, CalcForm);
  Application.Run;
end.
}}}

*3. Use _lseu.pas_ And _lse_kernel.pas_ in _frmcalc_*

Add _*lseu*_, _*lse_kernel*_ to _*frmcalc*_'s uses clause:

{{{
unit frmcalc;

{$mode objfpc}{$H+}

interface

uses
  Classes, SysUtils, FileUtil, Forms, Controls, Graphics, Dialogs, ExtCtrls,
  Buttons, StdCtrls, lseu, lse_kernel;
}}}

*2. Setup Framework*

  * Call _*lse_startup*_ firstly to initialize lysee kernel.
  * Call _*lse_cleanup*_ finally to release lysee kernel.

{{{
begin
  lse_startup;
  try
    // Put using-lysee codes here
  finally
    lse_cleanup;
  end;
end
}}}