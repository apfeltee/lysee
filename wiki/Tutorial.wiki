==1 Introduction==

Lysee is a small, fast, reliable and cross platform script language. Its interpreter is a standalone program. Lysee kernel is used to be embedded into Pascal programs as a critical mission controler and script the host. Lysee script can be embedded into HTML to develop active WEB sites.

"LSE" is abbreviation of "Lysee Script Engine".

===1.1 Features===

  * Written in pure Pascal language.
  * Support module and functional programings.
  * Run in platforms where [http://www.freepascal.org/ Free Pascal], [http://www.lazarus.freepascal.org/ Lazarus] or Delphi exist.
----
==2 Install and configure==

===2.1 Installation===

Download the latest installer or source code:

|| *Platform* || *How to* || *Default Position* ||
|| Windows || Run the installer || c:\lysee ||
|| Linux/Unix || make; sudo make install || /usr/local/lib/lysee ||

===2.2 File Structure===

|| *Name* || *Type* || *Linux/Unix* || *Windows* || *Description* ||
|| modules || folder || * || * || stores lysee modules ||
|| manual || folder || * || * || manuals  ||
|| temp || folder ||  N/A || * || temporary file directory ||
|| LICENSE || file || * || * || license file  ||
|| COPYING || file || * || * || Modified BSD ||
|| lysee.dll || library || N/A || * || kernel ||
|| lysee.so || library || * || N/A || kernel ||
|| lysee.config || file || * || * || configuration file ||
|| lysee.exe || program || N/A || * || interpreter ||
|| lysee_fpc.exe || program || N/A || * || interpreter build with FPC ||
|| lysee || program || * || N/A ||  interpreter ||
|| lysee_pad.exe || program || N/A || * || syntax highlighter editor ||
|| lysee_pad || program || * || N/A || syntax highlighter editor ||

===2.3 Configuration===

Add installation path to system search PATH:

|| *Platform* || *How to* ||
|| Windows || attch installation path to system environment variable PATH ||

Edit file lysee.config to configure lysee:
 
|| *Variable* || *Description* || *Default Value* ||
|| lse_tmpath || temporary directory || ${LYSEE}/temp ||
|| lse_search || module search path || ${LYSEE}/modules ||

The following constants can be used in lysee.config:

|| *Constant* || *Description* || *Value* ||
|| ${confile} || Configuration file name || Full file name of file lysee.config ||
|| ${kernel} || Kernel file name || Full file name of kernel ||
|| ${kndir} || Kernel directory  || Full file name of kernel directory ||
|| ${knpath} || Kernel path  || Full file name of kernel path ||
|| ${home} || Home path of user || Full file name of current user home path ||
|| ${program} || current program || ParamStr(0) ||
|| ${tmpath} || temporary path || Set by lse_tmpath in lysee.config ||
|| ${search} || module search path || Set by lse_search in lysee.config ||
|| ${keywords} || keyword list || main,int,string,for,while,... ||
|| ${mimefile} || MIME file || ${knpath}/mime.config ||

===2.4 Test===

Open a console and type "lysee" and give a ENTER, you will see something like below.

{{{
lysee 3.0.1 - Copyright (c) 2003-2011 Li Yun Jie

   :: /C=CANCEL /F=FILE /Q=QUIT /R=RESTART ::

>>>
}}}

===2.5 Hello World===

Let's print "Hello World":

{{{
lysee 3.0.1 - Copyright (c) 2003-2011 Li Yun Jie

   :: /C=CANCEL /F=FILE /Q=QUIT /R=RESTART ::

>>> print("Hello World")
Hello World 
>>>
}}}

Where, ">>>" prompts you enter lysee command or script.

===2.6 Execute Script File===

Save "print("hello world")" to file hw.ls, and run it with lysee:

{{{
c:\lysee>lysee hw.ls
Hello World 
c:\lysee>
}}}

".ls" is file extension of Lysee script file.

===2.7 Command Line Arguments===

Run " lysee --help" to print Lysee usages:

{{{
c:\lysee>lysee --help
Lysee 3.0.1 - interactive LYSEE script interpreter

Usage: lysee [OPTION]... [FILE [ARGS]...]

Option:
  -v, --version           display the version of lysee and exit.
  -h, --help              print this help and exit.
  -s, --search=PATH       set module search path.
  -S, --script=SCRIPT     execute script.
  -w, --wait=SECONDS      wait for some seconds before going on.
  -t, --times=COUNT       execute specified times.
  -p, --pause             pause after execute script file.

File:
  .ls                     execute this file directly.
  .lsp, .html, .htm, .*   execute as a LSP file (Lysee Script Page).

Args:
  *                       arguments for file execution.

c:\lysee>
}}}

*Options:*

|| *Option* || *Attachments* ||	*Description* ||
|| -v/--version || None || Print version informations and quit ||
|| -h/--help || None || Print usages and quit ||
|| -s/--search || Path list seperated with ';' || Add search path ||
|| -w/--wait || Seconds || Wait for seconds before running ||
|| -t/--times || Times || Repeat running times ||
|| -p/--pause || None || Pause after execute a file ||

*File:*

|| *Extension* || *File Type* || *Description* ||
|| .ls || Lysee script file or  module || Pure lysee statement ||
|| .lsp ||  LSP（Lysee Script Page） || Active HTML web page ||
|| * ||	Deal as .lsp file || produce WEB page ||

*Args:*

Can be accessed with string list @args.

*Command Lines:*

|| *Command Line* || *Description* ||
|| lysee backup.ls "skip=.tmp,....,.ppu" || backup lysee project ||
|| lysee -w 3600 -t 9999 spider.ls || run web spider once an hour ||
|| lysee logout.lsp user=mack || user mack logout||
----
==3 Language Reference==

===3.1 Tokens===

These are lysee keywords, identities, numbers and strings here.

*3.1.1 Charactors*

Lysee script is is made of these charactors:

|| *Type* || *Range* || *Usage* ||
|| letter || a..z A..Z _ || identities, keywords ||
|| digit || 0..9 || numbers, identities ||
|| char || + - * / \ = < > [ ] ( ) : ^ @ { } $ # ... || operators, delimiters, comments ||
|| char pair || // /* */ == != >= <= || comments, operators ||
|| space || SPACE, TAB, \n, \r, ... || delimiters ||

3.1.2 Comments

Line comments and block comments:

Type 	Begin Tag 	End Tag 	Samples
Line Comment 1
	# 	#13, #10, EOF 	# This is a shell comment
Line Comment 2
	// 	#13, #10, EOF 	// This a normal line comment
Block Comment
	/* 	*/ 	/* This is a block comment */
3.1.3 Identity

Identity consists of alpha, '_' and digit charactors, and the first charactor must not be digit.:

* 	Identity 	Reason
Yes
	JAMES_is_007 	 
Yes
	_007 	 
No
	007_is_JAMES 	Fist is digit
No 	JAMES is 007 	Has space char

Identity is case sensitive, abc、Abc、ABc and ABC are different.
3.1.4 Keywords

>>> = ${keywords};
__clen__,and,as,bool,break,case,char,class,const,continue,def,do,else,elseif,end
,endinc,except,false,finally,float,for,if,import,in,include,int,is,like,main,nil
,not,object,or,recall,repeat,return,string,super,switch,sys,then,this,time,true,
try,type,until,variant,void,while
>>>
3.1.5 Number

Number has 3 types, integer, float and money:

Type 	Base 10 	Base 16 	Base 8 	Base 2 	Science
int
	2008 	0x07D8 	0o3730 	0b11111011000 	-
double 	2008.4 	- 	- 	- 	2.0084e3
money
	100.0712 	- 	- 	- 	-

bool is special integer type, it has only two values: true(1), false(0).
3.1.6 Char and string

Lysee char is single byte ANSI char(0..255): 'a'..'z', '0'..'9', ...

Escaped charactors are listed below:

Char 	Base 16 Escape 	ASCII 	Description
\0
	\x00 	0 	end of string
\a 	\x07 	7 	BELL
\b 	\x08 	8 	BACKSPACE
\e 	\x1B 	27 	ESCAPE
\f 	\x0C 	12 	FORMFEED
\n 	\x0A 	10 	NEWLINE
\r 	\x0D 	13 	CARRIGE RETURN
\t 	\x09 	9 	TAB
\v 	\x0B 	11 	VERTICAL TAB
\\ 	\x5C 	92 	转义符
\' 	\x27 	39 	单引号
\" 	\x22 	34 	双引号

string is sequence of char, ended with '\0'. string has 3 formats:

Format 	Begin Tag 	End Tag 	Example 	Escape 	Description
1
	" 	" 	"kite\'s mother is
            jessy" 	Yes 	Escape when encounter '\'
2
	R" 	" 	R"kite's mother is
            jessy" 	No 	Has no escape char
3 	""" 	""" 	"""kite's mother is
            jessy""" 	No 	Has no escape char

Lysee string can span over two or more lines.

>>> = """How many charactors in this string?"""""""";
How many charactors in this string?"""""
>>>